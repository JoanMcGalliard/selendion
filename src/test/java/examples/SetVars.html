<html xmlns:concordion="http://www.selendion.org/2008">
<head><title>Set variables Demo</title></head>
<link href="../../css/selendion.css" rel="stylesheet" type="text/css"/>
<body>

<h1>Set variables Demo</h1>

<div class="example">
    <H2>RunSelenium: Tests variable handed back between Concordion and Selenium</H2>

    <h3>Setup </h3>

    <p concordion:startBrowser="'SELENIUM',#seleniumServerHost,#seleniumServerport, #browser, #baseUrl">Start a SELENIUM browser
        with:
        host <i concordion:set="#seleniumServerHost">localhost</i>;
        port <i concordion:set="#seleniumServerport">5555</i>;
        for <span concordion:echo="#browser"/>;
        and base url <a concordion:execute="#baseUrl=#HREF" href="http://localhost:55555">localhost, port 55555</a>.</p>



    <h3>Simple Test</h3>

    <p>First set var1 to be <i concordion:set="#var1">Variable 1</i> and var2 to be
        <i concordion:set="#var2">Variable 2</i>
    </p>

    <p>Before running the script var1 should be <b concordion:assertEquals="#var1">Variable 1</b>, var 2
        should be <b concordion:assertEquals="#var2">Variable 2</b> and var 4
        should be <b concordion:assertEquals="#var4">(null)</b></p>

    <p>after running <a href="test_data/vars.html" concordion:runSelenium="#HREF">
        this script</a> then var1 should be <b concordion:assertEquals="#var1">Variable 2</b> and var2 should still be
        <b concordion:assertEquals="#var2">Variable 2</b>. Var4 should now be <b concordion:assertEquals="#var4">new
            variable</b>.</p>
    <H3>Passing variables with commas betwen selenium and concordion</H3>

      <p>First set var2 to be <i concordion:set="#var2">String with, comma in it</i>.</p>


      <p>After running <a href="test_data/vars.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be <b concordion:assertEquals="#var1">String with, comma in it</b> and var2
          should still be
          <b concordion:assertEquals="#var2">String with, comma in it</b>. Var3 should now be <b
                  concordion:assertEquals="#var3">new variable with, comma</b>.</p>
    

    <H3>Passing variables with carriage returns,  line feed and backslashes betwen selenium and concordion</H3>

      <p>First set var2 to be</p> <pre concordion:set="#var2">String with \ line feed &#x000A; and carriage return &#x000D; in it</pre>


      <p>After running <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be stripped of problem characters and be
          <b concordion:assertEquals="#var1">String with line feed  and carriage return in it</b> and var2
          should be the same
          <b concordion:assertEquals="#var2">String with line feed  and carriage return in it</b>. Var3 should now be <b
                  concordion:assertEquals="#var3">new variable with line feed and carriage return in it</b>.
      Run a selenium script <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          again</a> without any errors.</p>

    <H3>Passing numbers betwen selenium and concordion</H3>

      <p>First set var2 to be <span concordion:set="#var2">2</span>, and var1 to be <span concordion:set="#var1"/>blank.</p>


      <p>After running <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be <b concordion:assertEquals="#var1">2</b>.
    </p> 
    <H3>Passing literal numbers betwen selenium and concordion</H3>

      <p>First set var2 to be <span concordion:set="#var2=2">2</span>, and var1 to be <span concordion:set="#var1"/>blank.</p>


      <p>After running <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be <b concordion:assertEquals="#var1">2</b>.
    </p>
    <H3>Passing literals characters betwen selenium and concordion</H3>

      <p>First set var2 to be <span concordion:set="#var2='a'">'a'</span>, and var1 to be <span concordion:set="#var1"/>blank.</p>


      <p>After running <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be <b concordion:assertEquals="#var1">a</b>.
    </p>

   <H3>Passing literals strings betwen selenium and concordion</H3>

      <p>First set var2 to be <span concordion:set="#var2='abc'">'abc'</span>, and var1 to be <span concordion:set="#var1"/>blank.</p>


      <p>After running <a href="test_data/vars2.html" concordion:runSelenium="#HREF">
          this script</a> then var1 should be <b concordion:assertEquals="#var1">abc</b>.
    </p>


    <H3>Tear Down</H3>

    <p>Finally <i concordion:stopBrowser="">close the browser</i></p>

</div>
<div class="example">
     <H2>runSelendion: Tests variable handed back between Concordion and Concordion</H2>


     <p>First set svar1 to be <i concordion:set="#svar1">Variable 1</i> and svar2 to be
               <i concordion:set="#svar2">Variable 2</i>
           </p>

     <p>Before running the script svar1 should be <b concordion:assertEquals="#svar1">Variable 1</b>, svar 2
                     should be <b concordion:assertEquals="#svar2">Variable 2</b> and svar 4
                     should be <b concordion:assertEquals="#svar4">(null)</b></p>

     <p>after running <a href="SetValue.html" concordion:runSelendion="#HREF">
               this script</a> then svar1 should be <b concordion:assertEquals="#svar1">Variable 2</b> and svar2 should still
               be
               <b concordion:assertEquals="#svar2">Variable 2</b>. svar4 should now be <b concordion:assertEquals="#svar4">new
                   variable</b>.</p>
 </div>

<div class="example">
     <H2>runSelendion: Tests nested variables handed back between Concordion and Concordion</H2>


     <p>First set svar1 to be <i concordion:set="#svar1">blank</i> and svar2 to be
               <i concordion:set="#svar2">blank</i>
           </p>


     <p>Run  <a href="SetValue.html" concordion:runSelendion="#HREF">
               this script while setting svar1 <i concordion:set="#svar1">Variable 1</i> and svar2 <i concordion:set="#svar2">Variable 2</i> </a>.  svar1 now should be <b concordion:assertEquals="#svar1">Variable 2</b> and svar2 should still
               be
               <b concordion:assertEquals="#svar2">Variable 2</b>. svar4 should now be <b concordion:assertEquals="#svar4">new
                   variable</b>.</p>
 </div>



<!--
<div class="example">
     <H2>runSuite: Variables should be passed into suite, but not out again</H2>
     <p>First create a suite of 3 tests (all the same): <a concordion:addToSuite="'mySuite',#HREF" href="SetValue.html">Set value</a>
     and <a concordion:addToSuite="'mySuite',#HREF"
href="SetValue.html">Set value</a> and
     <a concordion:addToSuite="'mySuite',#HREF"
href="SetValue.html">Set value</a>.</p>
       <p>We're going to run the suite in</p>
     <ul concordion:execute="#numbersOfThreads =newList()">
         <li concordion:execute="#numbersOfThreads.add(#TEXT)">1</li>
         <li concordion:execute="#numbersOfThreads.add(#TEXT)">2</li>
li>
        <li
concordion:execute="#numbersOfThreads.add(0)">unlimited</li>
     </ul>
     <p>First set svar1 to be <i concordion:set="#svar1">Variable 1</i> and svar2 to be
               <i concordion:set="#svar2">Variable 2</i> and  svar4
<i concordion:set="#svar4=nullVal()">null</i>
           </p>



     <div class="example" concordion:forEach="#numberOfThreads :
#numbersOfThreads">

      <p>Before running the script svar1 should be <b concordion:assertEquals="#svar1">Variable 1</b>, svar 2
                      should be <b
concordion:assertEquals="#svar2">Variable 2</b> and svar 4
                      should be <b
concordion:assertEquals="#svar4">(null)</b></p>

      <p>after running the suite in <span concordion:echo="#numberOfThreads"></span>
          <span  concordion:runSuite="'mySuite',1"></span> all tests should pass and
         var1 should be <b concordion:assertEquals="#svar1">Variable
1</b>, svar 2
                      should be <b
concordion:assertEquals="#svar2">Variable 2</b> and svar 4
                      should be <b
concordion:assertEquals="#svar4">(null)</b></p>
  </div>

</div>
-->

</body>
</html>
